// This will let you use the .remove() function later on
if (!('remove' in Element.prototype)) {
  Element.prototype.remove = function() {
    if (this.parentNode) {
      this.parentNode.removeChild(this);
    }
  };
}

mapboxgl.accessToken = 'pk.eyJ1IjoiZXhhbXBsZXMiLCJhIjoiY2lqbmpqazdlMDBsdnRva284cWd3bm11byJ9.V6Hg2oYJwMAxeoR9GEzkAA';

var filterGroup = document.getElementById('filter-group');
// This adds the map
var map = new mapboxgl.Map({
  // container id specified in the HTML
  container: 'map',
  // style URL
  style: 'mapbox://styles/mapbox/bright-v9',
  // initial position in [long, lat] format
  center: [8.73, 47.3],
  // initial zoom
  zoom: 10
});
/*
https://docs.google.com/document/d/1T8s82w7HAidq8l49oHmVLcn4VYNrnbd5aIoGD4ukBps/edit?usp=sharing

var stores =
*/

// This adds the places to the map


var s5strecke = {
"type": "FeatureCollection",
"crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },                                                                          
"features": [
{ "type": "Feature", "properties": { "Name": "Bahnstrecke ZÏrich ? DÏbendorf", "description": "Die <a href=\"http:\/\/www.schienenverkehr-schweiz.ch\/Strecken\/Bahnstrecke_Zuerich_-_Hinwil_und_Rapperswil\">Glattalbahn<\/a> fÏhrt von ZÏrich Ïber Uster ? Wetzikon nach Hinwil und Rapperswil.", "timestamp": null, "begin": null, "end": null, "altitudeMode": null, "tessellate": 1, "extrude": -1, "visibility": -1, "drawOrder": null, "icon": null }, "geometry": { "type": "LineString", "coordinates": [ [ 8.536092149118401, 47.379602544399553, 0.0 ], [ 8.539409662304285, 47.378712839136519, 0.0 ], [ 8.54192517517351, 47.378049887628599, 0.0 ], [ 8.543572106888554, 47.377605311197868, 0.0 ], [ 8.544734887822553, 47.377196730424103, 0.0 ], [ 8.545552601938834, 47.37675451560623, 0.0 ], [ 8.546263668917451, 47.37610446852262, 0.0 ], [ 8.547629459125901, 47.374273602892302, 0.0 ], [ 8.547934358671192, 47.373456720071488, 0.0 ], [ 8.547971058883961, 47.372496303983262, 0.0 ], [ 8.54778865377966, 47.371205175913332, 0.0 ], [ 8.54731140008014, 47.36962682203086, 0.0 ], [ 8.547250484713448, 47.368842653949557, 0.0 ], [ 8.547390664679604, 47.368196315711792, 0.0 ], [ 8.547734380895074, 47.367576411437298, 0.0 ], [ 8.547977566151307, 47.367280605570208, 0.0 ], [ 8.548317888367054, 47.366966767990867, 0.0 ], [ 8.548665390427661, 47.36671376224934, 0.0 ], [ 8.54904182180473, 47.366481256152341, 0.0 ], [ 8.549398729067214, 47.366300780166917, 0.0 ], [ 8.549719649348944, 47.366158484796877, 0.0 ], [ 8.550084741288844, 47.366023791196618, 0.0 ], [ 8.550297854959513, 47.36597808724941, 0.0 ], [ 8.550613832079003, 47.365909713370087, 0.0 ], [ 8.550895184039174, 47.365884652439561, 0.0 ], [ 8.551650730488639, 47.365850040426402, 0.0 ], [ 8.554537759794759, 47.365758582441778, 0.0 ], [ 8.556733077642587, 47.365912559552072, 0.0 ], [ 8.558514453982385, 47.366211993914497, 0.0 ], [ 8.559574694679242, 47.366651946100227, 0.0 ], [ 8.561868385467124, 47.367865300433543, 0.0 ], [ 8.564860249546127, 47.36992924489045, 0.0 ], [ 8.568220868731359, 47.372196990548538, 0.0 ], [ 8.573005510098785, 47.375227693229412, 0.0 ], [ 8.588518132857505, 47.385577589032827, 0.0 ], [ 8.590087615021378, 47.386759327714657, 0.0 ], [ 8.591340137650432, 47.387991250263127, 0.0 ], [ 8.592639341918179, 47.389653954000572, 0.0 ], [ 8.593719433882727, 47.391333952105683, 0.0 ], [ 8.594543100144463, 47.392991050762838, 0.0 ], [ 8.596104970384044, 47.396911847597757, 0.0 ], [ 8.596719968134929, 47.398214785277688, 0.0 ], [ 8.59710004084943, 47.398857427582413, 0.0 ], [ 8.597440653083028, 47.399372590285722, 0.0 ], [ 8.597996056326505, 47.400107443225082, 0.0 ], [ 8.598459714648062, 47.400646482263532, 0.0 ], [ 8.598992620203544, 47.401187181920157, 0.0 ], [ 8.59959804657562, 47.401680792195648, 0.0 ], [ 8.600320842090222, 47.402161806765463, 0.0 ], [ 8.601214186724768, 47.402639814806243, 0.0 ], [ 8.602718338133595, 47.403406499164383, 0.0 ], [ 8.604523065675224, 47.404316808296571, 0.0 ], [ 8.605258865815761, 47.404649174977529, 0.0 ], [ 8.606031455413198, 47.404957715244372, 0.0 ], [ 8.606954339109802, 47.405228542199502, 0.0 ], [ 8.607766646081171, 47.405381080135193, 0.0 ], [ 8.608602589372378, 47.40544744331244, 0.0 ], [ 8.609353548256095, 47.405421994503598, 0.0 ], [ 8.610098615778714, 47.405345631401119, 0.0 ], [ 8.610890643521644, 47.405164363925628, 0.0 ], [ 8.611621997530479, 47.404943001108357, 0.0 ], [ 8.612595243103671, 47.40460675922828, 0.0 ], [ 8.613571614327562, 47.40422075812355, 0.0 ], [ 8.618744844890189, 47.402098024717382, 0.0 ], [ 8.620506441302371, 47.401389386750267, 0.0 ], [ 8.621867462403252, 47.400862433469392, 0.0 ], [ 8.624582609591913, 47.399753281993732, 0.0 ] ] } },
{ "type": "Feature", "properties": { "Name": "Bahnstrecke ZÏrich ? Hinwil", "description": "Die <a href=\"http:\/\/www.schienenverkehr-schweiz.ch\/Strecken\/Bahnstrecke_Zuerich_-_Hinwil_und_Rapperswil\">Glattalbahn<\/a> fÏhrt von ZÏrich Ïber Uster ? Wetzikon nach Hinwil und Rapperswil.", "timestamp": null, "begin": null, "end": null, "altitudeMode": null, "tessellate": 1, "extrude": -1, "visibility": -1, "drawOrder": null, "icon": null }, "geometry": { "type": "LineString", "coordinates": [ [ 8.542885068359887, 47.411183482102679, 0.0 ], [ 8.543293840508557, 47.411336479563673, 0.0 ], [ 8.546132461651579, 47.412307653272322, 0.0 ], [ 8.546679287447564, 47.412476273250689, 0.0 ], [ 8.547201104913061, 47.412604995535233, 0.0 ], [ 8.547871720473005, 47.412691106074369, 0.0 ], [ 8.548560867385341, 47.412716350311577, 0.0 ], [ 8.558127270721412, 47.41287777034875, 0.0 ], [ 8.570866965199698, 47.413086723921957, 0.0 ], [ 8.577601103956464, 47.413191053308651, 0.0 ], [ 8.584846399066734, 47.413310818490977, 0.0 ], [ 8.586887960731458, 47.413344975466252, 0.0 ], [ 8.587896984602374, 47.413289987092007, 0.0 ], [ 8.588805821565241, 47.413162432305448, 0.0 ], [ 8.590059559860864, 47.412915423720897, 0.0 ], [ 8.591613421966628, 47.41256587083943, 0.0 ], [ 8.59689529733097, 47.411359522656483, 0.0 ], [ 8.599459616768003, 47.410799059866157, 0.0 ], [ 8.601487384245495, 47.41029895256613, 0.0 ], [ 8.602478902065922, 47.410010446410951, 0.0 ], [ 8.60338861160634, 47.409652097336647, 0.0 ], [ 8.604005301569655, 47.409358625649169, 0.0 ], [ 8.60477784205232, 47.408888880250863, 0.0 ], [ 8.605544409127317, 47.408287879678092, 0.0 ], [ 8.606652441970635, 47.40736244302029, 0.0 ], [ 8.607540874400858, 47.406779322649477, 0.0 ], [ 8.608588272724212, 47.406281988693209, 0.0 ], [ 8.609377717583815, 47.405963249941721, 0.0 ], [ 8.612061733992842, 47.404888761503358, 0.0 ], [ 8.615040225925714, 47.403673584289947, 0.0 ], [ 8.618541699413889, 47.402229469346082, 0.0 ], [ 8.619996645603635, 47.401679925014662, 0.0 ], [ 8.62124106754505, 47.401213214442237, 0.0 ], [ 8.622419797856187, 47.400767093785021, 0.0 ], [ 8.624263482127398, 47.39999169487519, 0.0 ], [ 8.627077672673236, 47.398778693235393, 0.0 ], [ 8.629673760160559, 47.397633938378988, 0.0 ], [ 8.631946819446814, 47.396662511973652, 0.0 ], [ 8.636392753869009, 47.394852775100858, 0.0 ], [ 8.643719628611787, 47.391833710141739, 0.0 ], [ 8.645202244637877, 47.391117000842968, 0.0 ], [ 8.650246855062584, 47.388564893141101, 0.0 ], [ 8.655540302917053, 47.385876136350447, 0.0 ], [ 8.660581878471925, 47.38332436359098, 0.0 ], [ 8.665081708762587, 47.381030423983333, 0.0 ], [ 8.671654315074573, 47.37768167605612, 0.0 ], [ 8.674319763169134, 47.37628186019468, 0.0 ], [ 8.679440172468958, 47.373313738035023, 0.0 ], [ 8.68800695258453, 47.368341685760868, 0.0 ], [ 8.693257239648538, 47.36528689239934, 0.0 ], [ 8.698987359949948, 47.361970959059811, 0.0 ], [ 8.704597842147315, 47.35870907145712, 0.0 ], [ 8.70824282100074, 47.356525452741977, 0.0 ], [ 8.71250443280015, 47.35406145129447, 0.0 ], [ 8.716163784882863, 47.351915208178319, 0.0 ], [ 8.720057162812596, 47.349710524556251, 0.0 ], [ 8.721169097794926, 47.349171434973101, 0.0 ], [ 8.722419627509886, 47.348680870032616, 0.0 ], [ 8.724615588965481, 47.347980264136382, 0.0 ], [ 8.727744610187067, 47.346935590961273, 0.0 ], [ 8.728840487881657, 47.346589406571617, 0.0 ], [ 8.729980246142528, 47.346326651083842, 0.0 ], [ 8.731321380986367, 47.34612931079559, 0.0 ], [ 8.732469349428133, 47.346047635961753, 0.0 ], [ 8.735051211156586, 47.345854376638307, 0.0 ], [ 8.735991560286948, 47.345782837910562, 0.0 ], [ 8.736987122851616, 47.345723948044238, 0.0 ], [ 8.738366328106199, 47.34562185523518, 0.0 ], [ 8.739306504598719, 47.345458404237043, 0.0 ], [ 8.740121516254822, 47.345246300820023, 0.0 ], [ 8.740766046726236, 47.345042328034033, 0.0 ], [ 8.741468640789126, 47.344746987667278, 0.0 ], [ 8.743030854717963, 47.344076530830399, 0.0 ], [ 8.745029140840558, 47.343142856453021, 0.0 ], [ 8.747667486222024, 47.341947637016503, 0.0 ], [ 8.748498953684845, 47.341615097646233, 0.0 ], [ 8.749351738787459, 47.341319618879389, 0.0 ], [ 8.750454168626236, 47.340972508798821, 0.0 ], [ 8.751734681548474, 47.340586576554692, 0.0 ], [ 8.752892129402774, 47.34032162498324, 0.0 ], [ 8.75382466952072, 47.340175319617508, 0.0 ], [ 8.754713805033635, 47.340077529608827, 0.0 ], [ 8.756739184778215, 47.339944785569692, 0.0 ], [ 8.75735836821298, 47.339887876049438, 0.0 ], [ 8.758039605295684, 47.339759190926863, 0.0 ], [ 8.759008470344135, 47.339505133798532, 0.0 ], [ 8.759982783142934, 47.339129474827573, 0.0 ], [ 8.760737171269081, 47.338774717332747, 0.0 ], [ 8.762548438961693, 47.337779027847652, 0.0 ], [ 8.764167223911558, 47.336845842793551, 0.0 ], [ 8.765160865925827, 47.336192842615262, 0.0 ], [ 8.766545362435005, 47.33526447344579, 0.0 ], [ 8.767078116147211, 47.334946150758363, 0.0 ], [ 8.767524836255136, 47.334733976670663, 0.0 ], [ 8.770730866994626, 47.33345159161108, 0.0 ], [ 8.77166581286165, 47.332982967279833, 0.0 ], [ 8.772455308987926, 47.332483767972867, 0.0 ], [ 8.773506846847052, 47.331749666381867, 0.0 ], [ 8.774211341451645, 47.331332691098083, 0.0 ], [ 8.774867348159621, 47.331009603417343, 0.0 ], [ 8.776591423124193, 47.330302765187859, 0.0 ], [ 8.777615834415149, 47.329789541773017, 0.0 ], [ 8.778429998614069, 47.329269366085597, 0.0 ], [ 8.779075160596285, 47.328758356389208, 0.0 ], [ 8.779667859193927, 47.328195313721707, 0.0 ], [ 8.780341786531963, 47.32747760723165, 0.0 ], [ 8.781035259203669, 47.32684893757358, 0.0 ], [ 8.782017673704598, 47.326189523000963, 0.0 ], [ 8.783445271459069, 47.325285413169553, 0.0 ], [ 8.784079995354233, 47.324803254112879, 0.0 ], [ 8.787249649101803, 47.322081190701176, 0.0 ], [ 8.789941556087882, 47.319724099237668, 0.0 ], [ 8.791228426030528, 47.318572936474141, 0.0 ], [ 8.79369724165872, 47.316415055841752, 0.0 ], [ 8.794151947613329, 47.316004228988923, 0.0 ], [ 8.794607114857605, 47.315517795475472, 0.0 ], [ 8.795215077135685, 47.314788114175911, 0.0 ], [ 8.795760026100858, 47.314100550653457, 0.0 ], [ 8.797128154425488, 47.312257167871387, 0.0 ], [ 8.797817135202219, 47.311383087253233, 0.0 ], [ 8.798318815351742, 47.310879061298778, 0.0 ], [ 8.798945106623666, 47.310418634359223, 0.0 ], [ 8.799770771534028, 47.309919396113798, 0.0 ], [ 8.801551327699038, 47.308876424491373, 0.0 ], [ 8.802689476501961, 47.308224079169243, 0.0 ], [ 8.806033122417245, 47.306282485458503, 0.0 ], [ 8.806715783399529, 47.305918898423322, 0.0 ], [ 8.807439449395195, 47.305623405275057, 0.0 ], [ 8.808247001956138, 47.305392805184027, 0.0 ], [ 8.81291016035412, 47.304425939653683, 0.0 ], [ 8.814506464380024, 47.303982568530202, 0.0 ], [ 8.817584865295622, 47.30312701217477, 0.0 ], [ 8.821821485291526, 47.301918442246581, 0.0 ], [ 8.822568480273816, 47.301745264011359, 0.0 ], [ 8.823444145433879, 47.301620585825802, 0.0 ], [ 8.824379280334494, 47.301613776677073, 0.0 ], [ 8.826604383796116, 47.301746951511973, 0.0 ], [ 8.828520746591849, 47.301863572078311, 0.0 ], [ 8.831163368694373, 47.302014915557031, 0.0 ], [ 8.83386876176454, 47.302183104836317, 0.0 ], [ 8.835034842442258, 47.302236272146359, 0.0 ], [ 8.835722654856681, 47.302215232318197, 0.0 ], [ 8.836405902720648, 47.302112259822032, 0.0 ], [ 8.837228008555876, 47.301842992945623, 0.0 ], [ 8.837756345009621, 47.301550985652668, 0.0 ], [ 8.838386248696132, 47.301031519440102, 0.0 ], [ 8.84016679707579, 47.299352872144318, 0.0 ] ] } },
{ "type": "Feature", "properties": { "Name": "Bahnstrecke Wetzikon ? Rapperswil", "description": "Die <a href=\"http:\/\/www.schienenverkehr-schweiz.ch\/Strecken\/Bahnstrecke_Zuerich_-_Hinwil_und_Rapperswil\">Glattalbahn<\/a> fÏhrt von ZÏrich Ïber Uster ? Wetzikon nach Hinwil und Rapperswil.", "timestamp": null, "begin": null, "end": null, "altitudeMode": null, "tessellate": 1, "extrude": -1, "visibility": -1, "drawOrder": null, "icon": null }, "geometry": { "type": "LineString", "coordinates": [ [ 8.790971122175346, 47.318741085649833, 0.0 ], [ 8.791602395698741, 47.318169376676501, 0.0 ], [ 8.793112626181632, 47.31686176184072, 0.0 ], [ 8.793840706613537, 47.316226614005643, 0.0 ], [ 8.794248429635541, 47.31581667633391, 0.0 ], [ 8.794842576816855, 47.315188201419843, 0.0 ], [ 8.795361095815053, 47.314536322360887, 0.0 ], [ 8.795782873179427, 47.313975185116597, 0.0 ], [ 8.797299614034898, 47.31197530249959, 0.0 ], [ 8.799311571300489, 47.309241551847741, 0.0 ], [ 8.803661792387107, 47.30297563906894, 0.0 ], [ 8.806019657570229, 47.299579511876303, 0.0 ], [ 8.806351807556263, 47.299128845143251, 0.0 ], [ 8.806900690831874, 47.298522986277362, 0.0 ], [ 8.807477603681006, 47.29791244373137, 0.0 ], [ 8.811702455743402, 47.293612461786601, 0.0 ], [ 8.813694769333406, 47.291551870952382, 0.0 ], [ 8.814243304840584, 47.290896167459003, 0.0 ], [ 8.814645593147571, 47.290236575127921, 0.0 ], [ 8.814882703745345, 47.289541264749289, 0.0 ], [ 8.815020910313775, 47.288949818924671, 0.0 ], [ 8.815017043290094, 47.28831933758439, 0.0 ], [ 8.814654381374735, 47.284050630957069, 0.0 ], [ 8.81462145518576, 47.283182725527027, 0.0 ], [ 8.814752917719279, 47.282466689833171, 0.0 ], [ 8.814990450334916, 47.281854208164198, 0.0 ], [ 8.815383620146584, 47.281174422253983, 0.0 ], [ 8.81637970285386, 47.279862905180771, 0.0 ], [ 8.816827592686042, 47.279134854095929, 0.0 ], [ 8.817139319608337, 47.278380180977948, 0.0 ], [ 8.81762526067844, 47.276736577883447, 0.0 ], [ 8.818019982264438, 47.275443072330908, 0.0 ], [ 8.818289603421899, 47.274764595714032, 0.0 ], [ 8.818698053094302, 47.274089957147098, 0.0 ], [ 8.819186799990257, 47.273526132401329, 0.0 ], [ 8.820262470116369, 47.272626328814901, 0.0 ], [ 8.822394169803518, 47.271163451708958, 0.0 ], [ 8.823936898554406, 47.270084940876522, 0.0 ], [ 8.826233706894763, 47.268496758288236, 0.0 ], [ 8.827073013242085, 47.267914464193552, 0.0 ], [ 8.827784278466044, 47.267511880851821, 0.0 ], [ 8.828464667241125, 47.267217621742333, 0.0 ], [ 8.829237320624898, 47.266949940212129, 0.0 ], [ 8.829985279920239, 47.266751227009308, 0.0 ], [ 8.830767810926892, 47.26660246797293, 0.0 ], [ 8.831742732709696, 47.266493144942579, 0.0 ], [ 8.837649717827059, 47.26598659314795, 0.0 ], [ 8.840191942821116, 47.265757070741628, 0.0 ], [ 8.84098147510305, 47.26564725589494, 0.0 ], [ 8.841681549958116, 47.265496700787601, 0.0 ], [ 8.842400078036473, 47.265300396288453, 0.0 ], [ 8.843055540407892, 47.265064580333188, 0.0 ], [ 8.843638714377667, 47.264805184931021, 0.0 ], [ 8.844524340210935, 47.264315901712791, 0.0 ], [ 8.847474077647604, 47.262628423308321, 0.0 ], [ 8.848278631246966, 47.262182089245073, 0.0 ], [ 8.849009429233591, 47.261828512284012, 0.0 ], [ 8.849712627687797, 47.261541732936657, 0.0 ], [ 8.850408726111221, 47.261345055397697, 0.0 ], [ 8.851090354950593, 47.261180508781038, 0.0 ], [ 8.851641108579996, 47.261076315571209, 0.0 ], [ 8.85220816669462, 47.260975267581962, 0.0 ], [ 8.85296147212877, 47.260869377452138, 0.0 ], [ 8.853489721481171, 47.260737959663437, 0.0 ], [ 8.854184994268195, 47.260531877850092, 0.0 ], [ 8.854715946699516, 47.26034932880912, 0.0 ], [ 8.855222819191555, 47.260116338944208, 0.0 ], [ 8.855763931470939, 47.259818927828611, 0.0 ], [ 8.856537788158668, 47.25932924708529, 0.0 ], [ 8.857169508301626, 47.258814810656212, 0.0 ], [ 8.85748095022058, 47.258492460055677, 0.0 ], [ 8.857808568465552, 47.258085018938452, 0.0 ], [ 8.859572800479732, 47.255505648105071, 0.0 ], [ 8.86171495563733, 47.252326887471497, 0.0 ], [ 8.863266697250394, 47.250042666193863, 0.0 ], [ 8.863739795007143, 47.249259162377562, 0.0 ], [ 8.863908921286864, 47.248782241893451, 0.0 ], [ 8.864022507999561, 47.248277327280107, 0.0 ], [ 8.864067203684913, 47.247750973060661, 0.0 ], [ 8.864028504710429, 47.247111200811688, 0.0 ], [ 8.863875748378025, 47.246528036332357, 0.0 ], [ 8.863607057515306, 47.245900158834061, 0.0 ], [ 8.863198533621393, 47.245284900858032, 0.0 ], [ 8.862765403772565, 47.244789260059953, 0.0 ], [ 8.862226763098242, 47.244269396992429, 0.0 ], [ 8.86154057708633, 47.243758782856773, 0.0 ], [ 8.860863661306681, 47.243367570127191, 0.0 ], [ 8.857719912851202, 47.241767747142482, 0.0 ], [ 8.856345841517268, 47.241098579202713, 0.0 ], [ 8.855597275934329, 47.240709071141573, 0.0 ], [ 8.854411642650836, 47.240278251767741, 0.0 ], [ 8.852586340099151, 47.239642185335498, 0.0 ], [ 8.851805114922701, 47.239419822713216, 0.0 ], [ 8.850977473224086, 47.239253254706007, 0.0 ], [ 8.850162612393955, 47.23917353768902, 0.0 ], [ 8.848021910350445, 47.239050308242902, 0.0 ], [ 8.8437824481134, 47.238818386468807, 0.0 ], [ 8.842509413960427, 47.238736326961757, 0.0 ], [ 8.841772956284384, 47.238640893149771, 0.0 ], [ 8.840944992872352, 47.238475250393691, 0.0 ], [ 8.840095782178887, 47.238246009526463, 0.0 ], [ 8.839275685655895, 47.237947838581427, 0.0 ], [ 8.838669982261635, 47.237705501315517, 0.0 ], [ 8.837944821335707, 47.237255324291553, 0.0 ], [ 8.837318990411724, 47.23676315001974, 0.0 ], [ 8.836731371334288, 47.236202863713928, 0.0 ], [ 8.836309736691607, 47.23564529727502, 0.0 ], [ 8.835945607782943, 47.235053718627903, 0.0 ], [ 8.835791586121797, 47.23465224954839, 0.0 ], [ 8.835026258543465, 47.232040050408273, 0.0 ], [ 8.834255082398883, 47.229391253353931, 0.0 ], [ 8.834014145663481, 47.228856876874993, 0.0 ], [ 8.833704477237998, 47.228433097918433, 0.0 ], [ 8.83319071968268, 47.227829892647442, 0.0 ], [ 8.832678180388253, 47.22734116043128, 0.0 ], [ 8.832022975107263, 47.226887022563233, 0.0 ], [ 8.831429242989993, 47.226542611464787, 0.0 ], [ 8.830625332695059, 47.226169281499843, 0.0 ], [ 8.829842230400589, 47.22590409993834, 0.0 ], [ 8.82894974770732, 47.225676807035562, 0.0 ], [ 8.827892055533855, 47.225500493543521, 0.0 ], [ 8.826738697379152, 47.22543440447248, 0.0 ], [ 8.82523366334989, 47.225444736795552, 0.0 ], [ 8.824517517120531, 47.225402790385417, 0.0 ], [ 8.823850098142387, 47.225362033102392, 0.0 ], [ 8.823136986766658, 47.22532230365794, 0.0 ], [ 8.821998576745687, 47.225248143475582, 0.0 ], [ 8.821229670869478, 47.22521116877747, 0.0 ], [ 8.820980026505197, 47.225205316056602, 0.0 ], [ 8.819141824429842, 47.22500615141891, 0.0 ], [ 8.81820996058897, 47.224905697967714, 0.0 ], [ 8.816134525915269, 47.224690075239479, 0.0 ] ] } },
{ "type": "Feature", "properties": { "Name": "Bahnstrecke Arth-Goldau ? Rapperswil", "description": "Die <a href=\"http:\/\/www.schienenverkehr-schweiz.ch\/Strecken\/Bahnstrecke_Arth-Goldau_-_Rapperswil\">SÏdostbahn<\/a> fÏhrt von Arth-Goldau Ïber Biberbrugg ? Samstagern ? PfÌffikon SZ nach Rapperswil.", "timestamp": null, "begin": null, "end": null, "altitudeMode": null, "tessellate": 1, "extrude": -1, "visibility": -1, "drawOrder": null, "icon": null }, "geometry": { "type": "LineString", "coordinates": [ [ 8.549394864464697, 47.049496556054052, 0.0 ], [ 8.549857362425046, 47.049283872251621, 0.0 ], [ 8.550288425412271, 47.049129734865012, 0.0 ], [ 8.550754577278818, 47.049035340460463, 0.0 ], [ 8.551273626832556, 47.048982864474347, 0.0 ], [ 8.553553608435131, 47.04886878218273, 0.0 ], [ 8.554914695462557, 47.048729059932469, 0.0 ], [ 8.556849581226407, 47.048654929571832, 0.0 ], [ 8.557563517593572, 47.048678833661988, 0.0 ], [ 8.559058050547826, 47.048928784556139, 0.0 ], [ 8.561164937351506, 47.049536328334547, 0.0 ], [ 8.561795823118214, 47.049777127796212, 0.0 ], [ 8.562311550947237, 47.050068160776242, 0.0 ], [ 8.562828895987645, 47.050395272434237, 0.0 ], [ 8.563393766738599, 47.050673524890009, 0.0 ], [ 8.564052415822871, 47.050895962182103, 0.0 ], [ 8.564738937499879, 47.051140155256519, 0.0 ], [ 8.565183577368483, 47.051360091980307, 0.0 ], [ 8.566113554583879, 47.052014265360029, 0.0 ], [ 8.566867215577451, 47.052489307957323, 0.0 ], [ 8.568694092713599, 47.053652529759439, 0.0 ], [ 8.569096689700149, 47.05386113589406, 0.0 ], [ 8.569557275243433, 47.05402667525437, 0.0 ], [ 8.570169712378879, 47.054147971154059, 0.0 ], [ 8.570931499937732, 47.054230623214643, 0.0 ], [ 8.572070921584027, 47.054417403023081, 0.0 ], [ 8.572674557821722, 47.054462790570113, 0.0 ], [ 8.573252381930164, 47.054429251033227, 0.0 ], [ 8.573855410693888, 47.054281804676272, 0.0 ], [ 8.574430845404049, 47.054030420168019, 0.0 ], [ 8.575081714541355, 47.053653269903819, 0.0 ], [ 8.575962929406273, 47.053076943539601, 0.0 ], [ 8.576675996279121, 47.052690407649187, 0.0 ], [ 8.577027776944499, 47.052583795976552, 0.0 ], [ 8.577714905212703, 47.052455957817337, 0.0 ], [ 8.579239837537397, 47.052147311457759, 0.0 ], [ 8.579629457936822, 47.052062711008887, 0.0 ], [ 8.579948907372685, 47.051963217768893, 0.0 ], [ 8.581213797457199, 47.051487156511648, 0.0 ], [ 8.58159271376387, 47.051384946298313, 0.0 ], [ 8.582181497424896, 47.051320304371103, 0.0 ], [ 8.582787822816272, 47.05131687838724, 0.0 ], [ 8.583463330084653, 47.05139827402153, 0.0 ], [ 8.584018870043668, 47.051536552870267, 0.0 ], [ 8.584492009940769, 47.05170115607595, 0.0 ], [ 8.585883068365698, 47.05245629736352, 0.0 ], [ 8.586304952873448, 47.052634982902923, 0.0 ], [ 8.586639426834514, 47.052785722545948, 0.0 ], [ 8.587061026676132, 47.053013000338566, 0.0 ], [ 8.587394970648868, 47.053251374870229, 0.0 ], [ 8.587698809310059, 47.053565113387009, 0.0 ], [ 8.588212393642181, 47.054242501271759, 0.0 ], [ 8.588558538181513, 47.05457406770492, 0.0 ], [ 8.589043581432396, 47.05488248591783, 0.0 ], [ 8.589431961031558, 47.055066623619751, 0.0 ], [ 8.590029230481056, 47.055244057839879, 0.0 ], [ 8.59117201266322, 47.055476812387049, 0.0 ], [ 8.592241139144505, 47.055752983289452, 0.0 ], [ 8.592801918780552, 47.055868281645239, 0.0 ], [ 8.593353203693074, 47.055902939260747, 0.0 ], [ 8.594743411108418, 47.055858908885007, 0.0 ], [ 8.595231431144661, 47.05589783734149, 0.0 ], [ 8.595730162747957, 47.056019322799813, 0.0 ], [ 8.5965249623113, 47.056308863520492, 0.0 ], [ 8.597170527286417, 47.056513532735543, 0.0 ], [ 8.597727906914749, 47.056610096263491, 0.0 ], [ 8.598949109018751, 47.056637981643057, 0.0 ], [ 8.59951138414263, 47.05663642588965, 0.0 ], [ 8.600098176136207, 47.056702201841112, 0.0 ], [ 8.601491154765631, 47.056944516442648, 0.0 ], [ 8.602134634526406, 47.057076315832497, 0.0 ], [ 8.602709489771652, 47.057246019465033, 0.0 ], [ 8.603227732231378, 47.05748997578597, 0.0 ], [ 8.603613136049537, 47.057767264482223, 0.0 ], [ 8.60414878874156, 47.05828605310888, 0.0 ], [ 8.60459596675282, 47.058739458806123, 0.0 ], [ 8.604981091858546, 47.058991397307928, 0.0 ], [ 8.605516953271369, 47.059239830820573, 0.0 ], [ 8.606180980366698, 47.059487697468192, 0.0 ], [ 8.606700456014496, 47.059635633588002, 0.0 ], [ 8.607337478103554, 47.059738869452609, 0.0 ], [ 8.608222758603482, 47.059880846623919, 0.0 ], [ 8.608658572198253, 47.059964768448239, 0.0 ], [ 8.609018512886827, 47.060079970593002, 0.0 ], [ 8.609484498937615, 47.060269981193379, 0.0 ], [ 8.609941984750247, 47.0605588576055, 0.0 ], [ 8.610817093258465, 47.06120849952331, 0.0 ], [ 8.611545805487024, 47.061709940370903, 0.0 ], [ 8.612491010584755, 47.062367125639547, 0.0 ], [ 8.612880128665433, 47.062662969052212, 0.0 ], [ 8.613260717158992, 47.063038501333807, 0.0 ], [ 8.613742859384617, 47.063500292193197, 0.0 ], [ 8.614274383093463, 47.064134703889323, 0.0 ], [ 8.614653402788413, 47.064692921152371, 0.0 ], [ 8.614902462473029, 47.06517166141851, 0.0 ], [ 8.615138965375252, 47.06551212116144, 0.0 ], [ 8.615837973249054, 47.066226535057147, 0.0 ], [ 8.616141789759144, 47.0665877909626, 0.0 ], [ 8.616406563646379, 47.06702633051767, 0.0 ], [ 8.616514802859172, 47.0673971383574, 0.0 ], [ 8.616653865915003, 47.068112432614853, 0.0 ], [ 8.616777066986268, 47.068449298552352, 0.0 ], [ 8.617036211576055, 47.068899665310489, 0.0 ], [ 8.617304231403386, 47.069190756620372, 0.0 ], [ 8.618186375950936, 47.069968690557793, 0.0 ], [ 8.620232064730208, 47.071510120900761, 0.0 ], [ 8.62075347452253, 47.071939194604937, 0.0 ], [ 8.621205694605191, 47.072339958218322, 0.0 ], [ 8.621496664771513, 47.07254434039573, 0.0 ], [ 8.621874861591255, 47.072726762574227, 0.0 ], [ 8.622390612972456, 47.072959667021877, 0.0 ], [ 8.622624901037486, 47.073081081007878, 0.0 ], [ 8.622866736734833, 47.07325402318552, 0.0 ], [ 8.623111908900803, 47.073458326474757, 0.0 ], [ 8.623319834948502, 47.073679703089617, 0.0 ], [ 8.623548748562666, 47.07399365791337, 0.0 ], [ 8.623731478008281, 47.074319790874767, 0.0 ], [ 8.623915278489015, 47.074721635787682, 0.0 ], [ 8.624041336621529, 47.075223561746128, 0.0 ], [ 8.624196952862162, 47.076109907661923, 0.0 ], [ 8.624465982066155, 47.0775431188748, 0.0 ], [ 8.624534829267176, 47.077839406988197, 0.0 ], [ 8.624674822448863, 47.078197629834349, 0.0 ], [ 8.624900195838375, 47.078571856253618, 0.0 ], [ 8.625238007567923, 47.078947945886298, 0.0 ], [ 8.625630895156666, 47.079259051815377, 0.0 ], [ 8.626176255797693, 47.079571084849221, 0.0 ], [ 8.626913173617579, 47.079873498917017, 0.0 ], [ 8.628129145958876, 47.080332130121022, 0.0 ], [ 8.628927856542887, 47.080622082596982, 0.0 ], [ 8.629646178908118, 47.080839088421932, 0.0 ], [ 8.630061607009656, 47.080946646014802, 0.0 ], [ 8.63052867022496, 47.081026799333763, 0.0 ], [ 8.631743090557634, 47.081127985579819, 0.0 ], [ 8.632094379269136, 47.081165574212797, 0.0 ], [ 8.632667262342475, 47.081284863383793, 0.0 ], [ 8.633121346973772, 47.081383427112392, 0.0 ], [ 8.634871494674915, 47.081856331444747, 0.0 ], [ 8.63581650468422, 47.08212766446119, 0.0 ], [ 8.63628675655908, 47.082274563204329, 0.0 ], [ 8.636691562143273, 47.082456401982888, 0.0 ], [ 8.637104602763179, 47.082705370196869, 0.0 ], [ 8.637392019857543, 47.082914250662157, 0.0 ], [ 8.638086139179324, 47.083225212935808, 0.0 ], [ 8.638513745720619, 47.083374536149378, 0.0 ], [ 8.638926658192593, 47.083486775449167, 0.0 ], [ 8.639859645251084, 47.08367884852867, 0.0 ], [ 8.640385387095744, 47.083830277353968, 0.0 ], [ 8.641010427875976, 47.084016139906943, 0.0 ], [ 8.641264861879304, 47.084126059798344, 0.0 ], [ 8.642112158121291, 47.084529697475972, 0.0 ], [ 8.642408534472052, 47.084647841017507, 0.0 ], [ 8.642809036303591, 47.084743260687553, 0.0 ], [ 8.64354640836622, 47.084881418672452, 0.0 ], [ 8.643727344674875, 47.084937104864572, 0.0 ], [ 8.644110386312445, 47.085083557706817, 0.0 ], [ 8.644342619253841, 47.085163780403832, 0.0 ], [ 8.644801491393189, 47.085292212687698, 0.0 ], [ 8.647488185610809, 47.085815079586723, 0.0 ], [ 8.647963588614973, 47.085916514172908, 0.0 ], [ 8.648366388276138, 47.08603784488357, 0.0 ], [ 8.648800427278498, 47.086262519614152, 0.0 ], [ 8.649588502105734, 47.086687337646623, 0.0 ], [ 8.649987330620108, 47.08686103722966, 0.0 ], [ 8.650549998738686, 47.086997425146151, 0.0 ], [ 8.651243502533577, 47.086989333092873, 0.0 ], [ 8.652430224717538, 47.086850874528182, 0.0 ], [ 8.652897194832555, 47.086825090445863, 0.0 ], [ 8.65334936185214, 47.086828774556203, 0.0 ], [ 8.653862182201127, 47.086915410607922, 0.0 ], [ 8.654261221977109, 47.087045451355102, 0.0 ], [ 8.654722788288719, 47.087243395800378, 0.0 ], [ 8.65506512163569, 47.087376145907733, 0.0 ], [ 8.65531612249187, 47.0874977292601, 0.0 ], [ 8.655632684386168, 47.087646817632567, 0.0 ], [ 8.65603129585606, 47.087777733250753, 0.0 ], [ 8.656649792502337, 47.087905406142603, 0.0 ], [ 8.657677310652822, 47.088045837862417, 0.0 ], [ 8.658638379945012, 47.08814618517102, 0.0 ], [ 8.66098036107334, 47.088376869627993, 0.0 ], [ 8.662499962889861, 47.088525439221122, 0.0 ], [ 8.662959365713544, 47.088570161097572, 0.0 ], [ 8.663405870282261, 47.088660130987989, 0.0 ], [ 8.66387815436962, 47.088792083625002, 0.0 ], [ 8.665182951394465, 47.08923072448934, 0.0 ], [ 8.665688314096812, 47.08947342622244, 0.0 ], [ 8.666083611944746, 47.089746995262622, 0.0 ], [ 8.666433997189325, 47.090083723821088, 0.0 ], [ 8.667401906275165, 47.091209617803472, 0.0 ], [ 8.668788202253317, 47.092827386797012, 0.0 ], [ 8.670339909904607, 47.094654088863699, 0.0 ], [ 8.6720606696766, 47.096669730918968, 0.0 ], [ 8.672433575508933, 47.09714924781882, 0.0 ], [ 8.672755427346456, 47.097645968060419, 0.0 ], [ 8.673074192793893, 47.098221081785873, 0.0 ], [ 8.673344180532577, 47.098835522168237, 0.0 ], [ 8.673550837575716, 47.099488979524473, 0.0 ], [ 8.673848118891161, 47.100857213317788, 0.0 ], [ 8.67400350458821, 47.101612149392402, 0.0 ], [ 8.67412363359923, 47.102278539426457, 0.0 ], [ 8.674134074268618, 47.102514616612943, 0.0 ], [ 8.674085405024103, 47.102868064329201, 0.0 ], [ 8.674021173587814, 47.1031984421736, 0.0 ], [ 8.673977658883114, 47.103469480208318, 0.0 ], [ 8.67398104738999, 47.103723996460573, 0.0 ], [ 8.674028074156091, 47.104154713876142, 0.0 ], [ 8.674083497650106, 47.104637045344703, 0.0 ], [ 8.674173558252781, 47.105036891366453, 0.0 ], [ 8.674358462560505, 47.105526008088511, 0.0 ], [ 8.674666108413998, 47.106187420575708, 0.0 ], [ 8.674865416542819, 47.106544895058583, 0.0 ], [ 8.675275263144076, 47.107177795355263, 0.0 ], [ 8.676022354197237, 47.108143476872691, 0.0 ], [ 8.676854079843533, 47.109200374819856, 0.0 ], [ 8.677698896764031, 47.11026747261262, 0.0 ], [ 8.678704098125001, 47.111546979250782, 0.0 ], [ 8.680211259587054, 47.113458769369657, 0.0 ], [ 8.680956897358721, 47.114396661464042, 0.0 ], [ 8.6811951327694, 47.114738027194747, 0.0 ], [ 8.681380088189458, 47.115158794114237, 0.0 ], [ 8.681469170562238, 47.115430356779157, 0.0 ], [ 8.681575437307082, 47.116021858274323, 0.0 ], [ 8.681765294889077, 47.116619481308163, 0.0 ], [ 8.68213529155768, 47.117346616261592, 0.0 ], [ 8.682370132347994, 47.117801101846219, 0.0 ], [ 8.682583048333356, 47.118405378337862, 0.0 ], [ 8.682700300037862, 47.119062273934482, 0.0 ], [ 8.68274554328571, 47.119939827902023, 0.0 ], [ 8.682867710990463, 47.120489013966662, 0.0 ], [ 8.683089032736952, 47.120952918087148, 0.0 ], [ 8.683287460125712, 47.121249296122137, 0.0 ], [ 8.683689265747967, 47.121659071723023, 0.0 ], [ 8.684131094244997, 47.121987523529903, 0.0 ], [ 8.684914542917992, 47.122428391026887, 0.0 ], [ 8.686991193117912, 47.12348174763715, 0.0 ], [ 8.687908817569316, 47.124026625073071, 0.0 ], [ 8.688749339717219, 47.124619594947042, 0.0 ], [ 8.690607870609103, 47.126074856854153, 0.0 ], [ 8.691443303885862, 47.126780306929227, 0.0 ], [ 8.691983619387342, 47.12735590378616, 0.0 ], [ 8.692541734334899, 47.1280344569725, 0.0 ], [ 8.694646638802666, 47.130688330778469, 0.0 ], [ 8.69502273302607, 47.131065886742903, 0.0 ], [ 8.695472259012844, 47.131413966888388, 0.0 ], [ 8.696079017026277, 47.131736917709773, 0.0 ], [ 8.696675874158535, 47.131993371262261, 0.0 ], [ 8.697217058459547, 47.132262012541062, 0.0 ], [ 8.697563007296885, 47.132477805987541, 0.0 ], [ 8.697915969317975, 47.132803467934671, 0.0 ], [ 8.698181688207747, 47.133124747834799, 0.0 ], [ 8.698529936778787, 47.133669244644707, 0.0 ], [ 8.699223780123905, 47.134834823983411, 0.0 ], [ 8.699661809165944, 47.135569737104937, 0.0 ], [ 8.699809341546615, 47.135883557395893, 0.0 ], [ 8.699899011058193, 47.136241638467041, 0.0 ], [ 8.699915574542876, 47.136559641070527, 0.0 ], [ 8.699863403235302, 47.13699488103066, 0.0 ], [ 8.69964907177744, 47.137499959064328, 0.0 ], [ 8.699343406215858, 47.137917173010592, 0.0 ], [ 8.698761455832056, 47.138598085141048, 0.0 ], [ 8.698477254831003, 47.139062783247851, 0.0 ], [ 8.698292441880639, 47.139584683791348, 0.0 ], [ 8.698266876803425, 47.140142133025648, 0.0 ], [ 8.698399529697973, 47.140650672376928, 0.0 ], [ 8.698684808856429, 47.141147195794908, 0.0 ], [ 8.699152333854645, 47.141617749452848, 0.0 ], [ 8.6998087947595, 47.142078733087402, 0.0 ], [ 8.700602605377778, 47.142388328033633, 0.0 ], [ 8.703458818497076, 47.143300383285123, 0.0 ], [ 8.704994814215151, 47.143809068203787, 0.0 ], [ 8.706443645910209, 47.144277943070733, 0.0 ], [ 8.707659014249497, 47.144706076173023, 0.0 ], [ 8.710103613611338, 47.145599659821762, 0.0 ], [ 8.713528405460133, 47.146847016627689, 0.0 ], [ 8.71783245196931, 47.148418849592503, 0.0 ], [ 8.718339896361815, 47.14863258920979, 0.0 ], [ 8.718945926168693, 47.148996763488363, 0.0 ], [ 8.719426733388572, 47.149473976785551, 0.0 ], [ 8.719763414616448, 47.149990593621311, 0.0 ], [ 8.720325689893407, 47.151380146592651, 0.0 ], [ 8.721029125169615, 47.153086184227661, 0.0 ], [ 8.721306737506113, 47.153566549601372, 0.0 ], [ 8.721721343296153, 47.154039578821262, 0.0 ], [ 8.722266881702122, 47.15466837127267, 0.0 ], [ 8.722466270404553, 47.155043590611427, 0.0 ], [ 8.722500957040136, 47.155378323913872, 0.0 ], [ 8.722436054274214, 47.155652871343129, 0.0 ], [ 8.722342165252917, 47.156013998411368, 0.0 ], [ 8.722293147257695, 47.156292450407669, 0.0 ], [ 8.722289115077244, 47.156902047532043, 0.0 ], [ 8.722399906923661, 47.157417870923027, 0.0 ], [ 8.722653718562848, 47.157836965138898, 0.0 ], [ 8.723076722175504, 47.158167043060523, 0.0 ], [ 8.723694876698493, 47.158401637617011, 0.0 ], [ 8.724427438708407, 47.158549051112622, 0.0 ], [ 8.724677607680684, 47.158609188136602, 0.0 ], [ 8.724957025761217, 47.158702624566509, 0.0 ], [ 8.725264982508641, 47.158852026269443, 0.0 ], [ 8.725544722762681, 47.159046165929311, 0.0 ], [ 8.726011185755894, 47.159419311604204, 0.0 ], [ 8.726245194020219, 47.159596020233671, 0.0 ], [ 8.726523864707065, 47.15978217150338, 0.0 ], [ 8.726848422811077, 47.159991811376592, 0.0 ], [ 8.727440723408247, 47.160353951048123, 0.0 ], [ 8.727624521350792, 47.160482732213737, 0.0 ], [ 8.727806759813571, 47.160637129027101, 0.0 ], [ 8.727964222165109, 47.160796852491671, 0.0 ], [ 8.728186222763913, 47.161082585422641, 0.0 ], [ 8.728312899823836, 47.161316489641372, 0.0 ], [ 8.728369205768981, 47.161435379071307, 0.0 ], [ 8.728418421108625, 47.161615242312983, 0.0 ], [ 8.728435059207785, 47.161877932411407, 0.0 ], [ 8.728261699925955, 47.163270540068829, 0.0 ], [ 8.72821692553568, 47.16354292931269, 0.0 ], [ 8.728201461829283, 47.163968958797987, 0.0 ], [ 8.728239079136133, 47.16451615748305, 0.0 ], [ 8.728297871732204, 47.164894944711193, 0.0 ], [ 8.728326904684806, 47.165194366057847, 0.0 ], [ 8.728259625043728, 47.165567877039997, 0.0 ], [ 8.728162056163754, 47.165826681391138, 0.0 ], [ 8.72797677759079, 47.166097667165303, 0.0 ], [ 8.727743142414843, 47.166360602448712, 0.0 ], [ 8.727462001845938, 47.166627787464542, 0.0 ], [ 8.727136389039401, 47.166827125081937, 0.0 ], [ 8.726381652247158, 47.167210996147659, 0.0 ], [ 8.724084875566295, 47.168351747723172, 0.0 ], [ 8.723349141202201, 47.168708210214177, 0.0 ], [ 8.723025601357985, 47.16883787732295, 0.0 ], [ 8.722621028840239, 47.16897250110204, 0.0 ], [ 8.722197900680209, 47.169061366933782, 0.0 ], [ 8.721679043381583, 47.169124157965207, 0.0 ], [ 8.718217981727587, 47.169293422818662, 0.0 ], [ 8.717680459248481, 47.169367073718789, 0.0 ], [ 8.717086672905545, 47.169512731556381, 0.0 ], [ 8.715581658789674, 47.170026946154003, 0.0 ], [ 8.714420025845257, 47.170436098140527, 0.0 ], [ 8.713934547638782, 47.170646683964598, 0.0 ], [ 8.713693866826942, 47.170770523749731, 0.0 ], [ 8.71337553981629, 47.170975187277598, 0.0 ], [ 8.71317635748682, 47.171123638506209, 0.0 ], [ 8.712915519729787, 47.171376241008623, 0.0 ], [ 8.712617864829879, 47.171731132718783, 0.0 ], [ 8.71234986027671, 47.172160203803472, 0.0 ], [ 8.712169144819871, 47.172453651300827, 0.0 ], [ 8.711763808284713, 47.173158728407252, 0.0 ], [ 8.711509636397956, 47.17374047740747, 0.0 ], [ 8.711449283227875, 47.173863305975992, 0.0 ], [ 8.710972670810722, 47.174636854580427, 0.0 ], [ 8.710675971850382, 47.175053885506408, 0.0 ], [ 8.710300860503658, 47.175437923746117, 0.0 ], [ 8.709874087278598, 47.175809347040179, 0.0 ], [ 8.709391082691711, 47.176138023365503, 0.0 ], [ 8.708713378135297, 47.176692007337017, 0.0 ], [ 8.708303279614855, 47.17702797713401, 0.0 ], [ 8.707989493574065, 47.17721321231997, 0.0 ], [ 8.707421043093957, 47.17749605558997, 0.0 ], [ 8.70229770258268, 47.179881915488203, 0.0 ], [ 8.701664363986033, 47.180216129491583, 0.0 ], [ 8.700397771902137, 47.180983532156041, 0.0 ], [ 8.700073432386294, 47.181146006227657, 0.0 ], [ 8.699410127368822, 47.181377498854147, 0.0 ], [ 8.699042130759215, 47.181493869414091, 0.0 ], [ 8.697756470512712, 47.18174491985706, 0.0 ], [ 8.696990658120612, 47.181884741700649, 0.0 ], [ 8.696448700973871, 47.181999272895652, 0.0 ], [ 8.694808112754075, 47.182207255571313, 0.0 ], [ 8.692306640060373, 47.182525543347317, 0.0 ], [ 8.690443582934419, 47.18276343552975, 0.0 ], [ 8.689741384931416, 47.182928936982172, 0.0 ], [ 8.689021041902729, 47.183217650172459, 0.0 ], [ 8.688473889958917, 47.183578724536247, 0.0 ], [ 8.688255187119079, 47.18377910321913, 0.0 ], [ 8.688023654954138, 47.18405017836988, 0.0 ], [ 8.687829336802588, 47.184367100030563, 0.0 ], [ 8.687700081840855, 47.18470518339452, 0.0 ], [ 8.687616501527264, 47.18515525782697, 0.0 ], [ 8.687652304866099, 47.185589267958342, 0.0 ], [ 8.687812783474181, 47.186072515011567, 0.0 ], [ 8.68814156494437, 47.186534338066473, 0.0 ], [ 8.688904595838117, 47.187333917386141, 0.0 ], [ 8.689137041402814, 47.18762685118562, 0.0 ], [ 8.689332174161425, 47.187965022807091, 0.0 ], [ 8.689453937784631, 47.188367546344153, 0.0 ], [ 8.689477080368, 47.188792336492973, 0.0 ], [ 8.689410020532137, 47.189107097955777, 0.0 ], [ 8.689273203092178, 47.189459737505899, 0.0 ], [ 8.689030319669325, 47.189792225038993, 0.0 ], [ 8.688715595985389, 47.190094131789323, 0.0 ], [ 8.688184044322146, 47.190469418791707, 0.0 ], [ 8.687588713527063, 47.190750338377562, 0.0 ], [ 8.68691096132752, 47.190992592543168, 0.0 ], [ 8.685774708622615, 47.19146172623266, 0.0 ], [ 8.685150206405357, 47.19175019381769, 0.0 ], [ 8.684821375661283, 47.191890442653978, 0.0 ], [ 8.684246714467491, 47.19217239779725, 0.0 ], [ 8.683531499820864, 47.192494327671341, 0.0 ], [ 8.683069879161287, 47.192783637388651, 0.0 ], [ 8.682661877778987, 47.193170318913289, 0.0 ], [ 8.682298200494641, 47.193691955396282, 0.0 ], [ 8.682152388504978, 47.19412708529677, 0.0 ], [ 8.682116495921612, 47.194399354254209, 0.0 ], [ 8.68214921009778, 47.194737496863603, 0.0 ], [ 8.682273568277674, 47.195062779899402, 0.0 ], [ 8.682413781262158, 47.195316056050252, 0.0 ], [ 8.682714182175921, 47.195648809605721, 0.0 ], [ 8.683151601847605, 47.195952180986261, 0.0 ], [ 8.683861360316403, 47.196242886038419, 0.0 ], [ 8.684279640286903, 47.1963438888532, 0.0 ], [ 8.684665334039199, 47.196392012089269, 0.0 ], [ 8.685149186568403, 47.196415567395782, 0.0 ], [ 8.685836094943761, 47.196324230878822, 0.0 ], [ 8.686240814884522, 47.196211290137903, 0.0 ], [ 8.686722849921509, 47.196026393895657, 0.0 ], [ 8.687176489010803, 47.19575363651208, 0.0 ], [ 8.688341697024457, 47.194844412726709, 0.0 ], [ 8.688763130364983, 47.194576236607702, 0.0 ], [ 8.689199132880475, 47.194374970292607, 0.0 ], [ 8.6897057365608, 47.19421456221685, 0.0 ], [ 8.690283056645638, 47.19411967041723, 0.0 ], [ 8.690902915371087, 47.194095692401028, 0.0 ], [ 8.69142711826386, 47.194135955315659, 0.0 ], [ 8.691959189784642, 47.194237550173753, 0.0 ], [ 8.694574535240925, 47.194858755866441, 0.0 ], [ 8.695161144604988, 47.194986209282192, 0.0 ], [ 8.695771302918882, 47.19503248182815, 0.0 ], [ 8.699028752395039, 47.195235928816977, 0.0 ], [ 8.701183293623746, 47.195348496868498, 0.0 ], [ 8.701855854350137, 47.195325664716997, 0.0 ], [ 8.705767564869697, 47.195001592334279, 0.0 ], [ 8.706545438966893, 47.194957542313077, 0.0 ], [ 8.707388282292644, 47.195024786052549, 0.0 ], [ 8.708056447385818, 47.195179891853343, 0.0 ], [ 8.708708788632521, 47.195397170031072, 0.0 ], [ 8.711696290423053, 47.196581775635863, 0.0 ], [ 8.712360640407418, 47.196835403400073, 0.0 ], [ 8.713106607065681, 47.197062405859192, 0.0 ], [ 8.713944873770451, 47.197169072279429, 0.0 ], [ 8.714746940171047, 47.197121227845663, 0.0 ], [ 8.715461654208301, 47.196969570468639, 0.0 ], [ 8.716726747196768, 47.196575071995973, 0.0 ], [ 8.717278007504451, 47.196470230647797, 0.0 ], [ 8.717818613813089, 47.196430334725967, 0.0 ], [ 8.719365982156626, 47.196402618171803, 0.0 ], [ 8.719819479686135, 47.196351400912327, 0.0 ], [ 8.720252317491253, 47.196279451909398, 0.0 ], [ 8.721327426495675, 47.196009788818913, 0.0 ], [ 8.722887156201526, 47.195654575243701, 0.0 ], [ 8.723727386896027, 47.195576320949563, 0.0 ], [ 8.724578414984288, 47.195562121605207, 0.0 ], [ 8.725351773947496, 47.195630682865463, 0.0 ], [ 8.726029577737531, 47.195750801523452, 0.0 ], [ 8.72656167171341, 47.195882962538143, 0.0 ], [ 8.727586879612485, 47.196234445008074, 0.0 ], [ 8.728655961806238, 47.196597715820573, 0.0 ], [ 8.729587786471447, 47.196789013167418, 0.0 ], [ 8.732676483888977, 47.197277384689322, 0.0 ], [ 8.734473763354671, 47.197666958766369, 0.0 ], [ 8.738332429662528, 47.198603872470798, 0.0 ], [ 8.741773283693387, 47.19941748905957, 0.0 ], [ 8.743504937361966, 47.199839502136612, 0.0 ], [ 8.746817504204055, 47.200797658685687, 0.0 ], [ 8.750902871496695, 47.201922738276799, 0.0 ], [ 8.751374377298218, 47.202023366421948, 0.0 ], [ 8.753083781762317, 47.202375777759059, 0.0 ], [ 8.754086201164522, 47.202550879562537, 0.0 ], [ 8.755131668475205, 47.202807479025637, 0.0 ], [ 8.756572502374397, 47.20323892415194, 0.0 ], [ 8.758950949412716, 47.203973559864359, 0.0 ], [ 8.760693730918305, 47.20449846817985, 0.0 ], [ 8.761948892650175, 47.204792178679703, 0.0 ], [ 8.763028532188326, 47.204936736956242, 0.0 ], [ 8.764152869840068, 47.205020223431269, 0.0 ], [ 8.765398119400894, 47.205018228019739, 0.0 ], [ 8.766588311869075, 47.204934817724492, 0.0 ], [ 8.767840769624582, 47.204690696359179, 0.0 ], [ 8.771966467287946, 47.203723980292352, 0.0 ], [ 8.773430489428783, 47.203520562153699, 0.0 ], [ 8.776087532991095, 47.203270060076832, 0.0 ], [ 8.779564938582693, 47.203097334064942, 0.0 ], [ 8.785335048625363, 47.202798019489869, 0.0 ], [ 8.785728117803789, 47.20287142855527, 0.0 ], [ 8.786968779345889, 47.2028806128993, 0.0 ], [ 8.787517439803496, 47.202965255853222, 0.0 ], [ 8.787920300005593, 47.203057441153987, 0.0 ], [ 8.788417677449385, 47.203208211507331, 0.0 ], [ 8.7887834590415, 47.203367198085679, 0.0 ], [ 8.789142400064824, 47.203577778812146, 0.0 ], [ 8.78940524147672, 47.203755234423497, 0.0 ], [ 8.791055654465554, 47.205035424906796, 0.0 ], [ 8.792453821107038, 47.206111588499077, 0.0 ], [ 8.79300899122066, 47.20657595605006, 0.0 ], [ 8.793320906823245, 47.206878232519152, 0.0 ], [ 8.793976873942169, 47.20755601559005, 0.0 ], [ 8.794503077726514, 47.208123093292393, 0.0 ], [ 8.794759726732861, 47.20845883309746, 0.0 ], [ 8.795089924245813, 47.20896937204386, 0.0 ], [ 8.795680693658902, 47.209889025362848, 0.0 ], [ 8.795970088141839, 47.210305450548013, 0.0 ], [ 8.796314886373766, 47.210710036052582, 0.0 ], [ 8.796933302595138, 47.211335319500911, 0.0 ], [ 8.797780804108946, 47.212162246685168, 0.0 ], [ 8.798098106973569, 47.212435476827572, 0.0 ], [ 8.798741281101046, 47.212909032214988, 0.0 ], [ 8.799190663562108, 47.213218281144137, 0.0 ], [ 8.80048255114438, 47.214047459129091, 0.0 ], [ 8.801697605072311, 47.214791620908002, 0.0 ], [ 8.803004058145676, 47.215595572660007, 0.0 ], [ 8.804095237415497, 47.216277166543883, 0.0 ], [ 8.805252498414166, 47.216987723153437, 0.0 ], [ 8.805838713500659, 47.217388124379838, 0.0 ], [ 8.806380359659485, 47.217789467952919, 0.0 ], [ 8.807086892667604, 47.218368818123743, 0.0 ], [ 8.807952895101646, 47.219093807876163, 0.0 ], [ 8.808751362780523, 47.219747757872007, 0.0 ], [ 8.810080272279066, 47.220836956322323, 0.0 ], [ 8.811424373182904, 47.22195400604123, 0.0 ], [ 8.81256133197094, 47.22289343082754, 0.0 ], [ 8.81362513788404, 47.223739300759867, 0.0 ], [ 8.814062884639844, 47.22395944364407, 0.0 ], [ 8.814636487994758, 47.224145097743673, 0.0 ], [ 8.815089511526665, 47.224260905337303, 0.0 ], [ 8.815675305172677, 47.224360831597231, 0.0 ], [ 8.817651807091769, 47.22458149823229, 0.0 ] ] } }
]
};

var stores = $.ajax({
  //   url: "https://docs.google.com/document/d/1T8s82w7HAidq8l49oHmVLcn4VYNrnbd5aIoGD4ukBps/edit?usp=sharing"
  url: 'beispielobjektsammlung.geojson'

}).done(function(places) {
  places = eval('(' + places + ')');
  map.on('load', function(e) {
    // Add a GeoJSON source containing place coordinates and information.
    map.addSource('places', {
      'type': 'geojson',
      'data': places
    });

    places.features.forEach(function(feature, i) {
      var symbol = feature.properties['OBJ_Fun_ID'];
      symbol = '' + symbol;
      var layerID = 'poi-' + symbol;
      var labelx = feature.properties['Obj_Funktion'];
      if (!map.getLayer(layerID)) {
        console.log('******** ' + layerID + ' ******** ');
        map.addLayer({
          'id': layerID,
          'type': 'symbol',
          'source': 'places',
          'layout': {
            'icon-image': 'Markers/' + symbol + '.png',
            // "icon-image": "pin-m-star+AA0000.png",
            'icon-allow-overlap': true
          },
          'filter': ['==', 'OBJ_Fun_ID', symbol]
        });
        // Add checkbox and label elements for the layer.
        var input = document.createElement('input');
        input.type = 'checkbox';
        input.id = layerID;
        input.checked = true;
        filterGroup.appendChild(input);

        var label = document.createElement('label');
        label.setAttribute('for', layerID);
        label.textContent = feature.properties['Obj_Funktion'];
        if (feature.properties['OBJ_Fun_ID'] < 6) {
          label.className = 'f1';
        } else if (feature.properties['OBJ_Fun_ID'] < 10) {
          label.className = 'f2';
        } else {
          label.className = 'f3';          
        }
        filterGroup.appendChild(label);

        // When the checkbox changes, update the visibility of the layer.
        input.addEventListener('change', function(e) {
          map.setLayoutProperty(layerID, 'visibility',
            e.target.checked ? 'visible' : 'none');
        });
      }
      // Create an img element for the marker
      var el = document.createElement('div');
      el.id = 'marker-' + i;
      el.className = 'marker' + symbol;
      el.className = 'markerpin';
      el.style.left = '-28px';
      el.style.top = '-46px';
      el.style.left = '-24px';
      el.style.top = '-56px';
      // var layerID = 'poi-' + el.className;
      // Add markers to the map at all points
      //  console.log(el.id + " " + feature.geometry.coordinates);
      new mapboxgl.Marker(el)
        .setLngLat(feature.geometry.coordinates)
        .addTo(map);

      el.addEventListener('click', function(e) {
        // 1. Fly to the point
        flyToStore(feature);

        // 2. Close all other popups and display popup for clicked store
        createPopUp(feature);

        // 3. Highlight listing in sidebar (and remove highlight for all other listings)
        var activeItem = document.getElementsByClassName('active');

        e.stopPropagation();
        if (activeItem[0]) {
          activeItem[0].classList.remove('active');
        }

        var listing = document.getElementById('listing-' + i);
        listing.classList.add('active');

      });



    });

    // This is where your '.addLayer()' used to be
    // Initialize the list

    buildLocationList(places);

    map.addSource("route", {
        "type": "geojson",
        "data": s5strecke
    });

    map.addLayer({
        "id": "route",
        "type": "line",
        "source": "route",
        "layout": {
            "line-join": "round",
            "line-cap": "round"
        },
        "paint": {
            "line-color": "#f88",
            "line-width": 5
        }
    });
    var layerList = document.getElementById('menu');
    var inputs = layerList.getElementsByTagName('input');

    function switchLayer(layer) {
        var layerId = layer.target.id;
        map.setStyle('mapbox://styles/mapbox/' + layerId + '-v9');
    map.addSource("route", {
        "type": "geojson",
        "data": s5strecke
    });

     map.addLayer({
        "id": "route",
        "type": "line",
        "source": "route",
        "layout": {
            "line-join": "round",
            "line-cap": "round"
        },
        "paint": {
            "line-color": "#f88",
            "line-width": 5
        }
    });
   }

    for (var i = 0; i < inputs.length; i++) {
        inputs[i].onclick = switchLayer;
    }

    });
});

// This is where your interactions with the symbol layer used to be
// Now you have interactions with DOM markers instead

function flyToStore(currentFeature) {
  map.flyTo({
    center: currentFeature.geometry.coordinates,
    zoom: 14
  });
}

function createPopUp(currentFeature) {
  var popUps = document.getElementsByClassName('mapboxgl-popup');
  if (popUps[0]) popUps[0].remove();

  var link = '';
  if (currentFeature.properties.Link !== '') {
    link = '<p><a href="' + currentFeature.properties.Link + '" target="_blank">→ Link</a>';
  }
  details = '<a href="details.php?id=' + currentFeature.properties.ID + '" target="_blank">→ Details</a></p>';

  var popup = new mapboxgl.Popup({
      closeOnClick: false
    })
    .setLngLat(currentFeature.geometry.coordinates)
    .setHTML('<h3>' + currentFeature.properties.Obj_Name + ', ' + currentFeature.properties.Obj_Gem + '</h3>' +
      '<h4>' + currentFeature.properties['Obj_Funktion'] + '</h4>' +
      '<p>' + currentFeature.properties.Obj_Qua1 + '</p>' +
      '<p>' + currentFeature.properties.Kommentar + '</p>' + link + '&nbsp;&nbsp;&nbsp;' + details
    )
    .addTo(map);
}

function buildLocationList(places) {
  for (i = 0; i < places.features.length; i++) {
    var currentFeature = places.features[i];
    var prop = currentFeature.properties;

    var listings = document.getElementById('listings');
    var listing = listings.appendChild(document.createElement('div'));
    listing.className = 'item';
    listing.id = 'listing-' + i;

    var link = listing.appendChild(document.createElement('a'));
    link.href = '#';
    link.className = 'title';
    link.placesPosition = i;
    link.innerHTML = prop.Obj_Name;

    var details = listing.appendChild(document.createElement('div'));
    details.innerHTML = prop.Kommentar;
    if (prop.Obj_Gem) {
      details.innerHTML += ' &middot; ' + prop.Obj_Gem;
    }
    link.addEventListener('click', function(e) {
      // Update the currentFeature to the store associated with the clicked link
      var clickedListing = places.features[this.placesPosition];

      // 1. Fly to the point
      flyToStore(clickedListing);

      // 2. Close all other popups and display popup for clicked store
      createPopUp(clickedListing);

      // 3. Highlight listing in sidebar (and remove highlight for all other listings)
      var activeItem = document.getElementsByClassName('active');

      if (activeItem[0]) {
        activeItem[0].classList.remove('active');
      }
      this.parentNode.classList.add('active');

    });
  }
}